!function e(r,a,i){function n(s,p){if(!a[s]){if(!r[s]){var c="function"==typeof require&&require;if(!p&&c)return c(s,!0);if(t)return t(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var o=a[s]={exports:{}};r[s][0].call(o.exports,function(e){var a=r[s][1][e];return n(a?a:e)},o,o.exports,e,r,a,i)}return a[s].exports}for(var t="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(e,r){var a=function(){function e(e){throw"Mathed -- "+e}function r(e){return"undefined"!=typeof e&&null!=e}function i(e){for(var r=["+","\\","[","]","|","^","$","*","?","(",")","{","}","!"],a=0;a<r.length;a++){var i=r[a];e=e.replace(new RegExp("\\"+i,"g"),"\\"+i)}return e}function n(e,r){this.type=e,this.value=r,this.children=[]}function t(a){function n(a){var n,l=s[a];if(l||e("Plugin with name '"+a+"' was not found."),r(l.direct))for(n=0;n<l.direct.length;n++)t.push(l.direct[n]);if(r(l.special))for(n=0;n<l.special.length;n++)p.push(l.special[n]);if(r(l.map))for(n in l.map)c.mapping[n]=l.map[n],c.tokens.push(i(n))}var t=[],p=[],c={tokens:[],mapping:{}};if("undefined"==typeof a)for(var l in s)n(l);else for(var o=0;o<a.length;o++)n(a[o]);this.TokenTypes={map:!1,direct:!1,special:!1,number:/[0-9]+(\.[0-9]+)?/,unary:/[_\^]/,binary:"frac|sum|prod",name:/[a-zA-Z]/,operator:/[+\-*\/=:%!]/,pipe:/\|/,left_paren:/\(/,right_paren:/\)/,left_bracket:/\[/,right_bracket:/\]/,left_brace:/\{|\\\{/,right_brace:/\}|\\\}/},c.tokens.length>0&&(this.TokenTypes.map=new RegExp(c.tokens.join("|"))),t.length>0&&(this.TokenTypes.direct=new RegExp(t.join("|"))),p.length>0&&(this.TokenTypes.special=new RegExp(p.join("|")));var d=[];for(var l in this.TokenTypes){var u=this.TokenTypes[l];if(u!==!1){var v=u.toString().replace(/^\//,"(").replace(/\/$/,")");d.push(v)}}this.lexExp=new RegExp(d.join("|"),"g");for(var l in this.TokenTypes){var u=this.TokenTypes[l],f=u.toString().replace(/^\//,"^(").replace(/\/$/,")$");this.TokenTypes[l]=f}this.map=c}var s={};return n.prototype.addChild=function(e){this.children.push(e)},t.prototype.lex=function(e){if("undefined"==typeof e)return[];var r=[],a=e.match(this.lexExp);if(null==a)return[];for(var i=0;i<a.length;i++)for(var n in this.TokenTypes)if(a[i].match(this.TokenTypes[n])){r.push({value:a[i],type:n});break}return r},t.prototype.parse=function(a){function i(){return s[s.length-1]}if(!a||a.length<1)return null;for(var t=new n("root"),s=[t],p=0;p<a.length;p++){var c=a[p],l=null;switch(c.type){case"left_paren":case"left_bracket":case"left_brace":l=new n(c.type,c.value),i().addChild(l),s.push(l);break;case"right_paren":"left_paren"!=i().type&&e("Unmatched right parenthesis."),s.pop();break;case"right_bracket":"left_bracket"!=i().type&&e("Unmatched right bracket."),s.pop();break;case"right_brace":"left_brace"!=i().type&&e("Unmatched right brace."),s.pop();break;case"unary":l=new n(c.type,c.value),i().addChild(l),s.push(l),l.args=1;break;case"binary":l=new n(c.type,c.value),i().addChild(l),s.push(l),l.args=2;break;default:i().addChild(new n(c.type,c.value))}r(i().args)&&(i().args--,i().args<0&&s.pop())}switch(i().type){case"unary":case"binary":e("Invalid number of arguments for "+i().type+' function "'+i().value+'"');case"left_paren":e("Unclosed left parenthesis");case"left_bracket":e("Unclosed left bracket");case"left_brace":e("Unclosed left brace")}return t},t.prototype.translate=function(e){function r(e){for(var a=0,i=[],n=0;n<e.children.length;n++)a=Math.max(a,r(e.children[n])),"pipe"==e.children[n].type&&i.push(e.children[n]);for(n=0;n<i.length;n++)i[n].parenSize=a;return e.parenSize=a,("binary"==e.type||"left_paren"==e.type||"left_bracket"==e.type||"left_brace"==e.type&&"\\{"==e.value)&&a++,a}function a(e){var r="",i="";switch(e.type){case"special":case"number":return e.value;case"map":return n[e.value];case"direct":return["&",e.value,";"].join("");case"name":return["<em>",e.value,"</em>"].join("");case"operator":return" "+e.value+" ";case"pipe":if(0==e.parenSize)return" | ";r=' <div class="ou">';for(var t=0;t<e.parenSize;t++)r+='<div class="p">&#9168;</div>';return r+"</div> ";case"left_paren":for(var t=0;t<e.children.length;t++)r+=a(e.children[t]);if(e.parenSize>0){i='<div class="ou"><div class="p">&#9115;</div>';for(var s=0;s<e.parenSize-1;s++)i+='<div class="p">&#9116;</div>';i+='<div class="p">&#9117</div></div>',i+=" "+r+" ",i+='<div class="ou"><div class="p">&#9118;</div>';for(var s=0;s<e.parenSize-1;s++)i+='<div class="p">&#9119;</div>';return i+='<div class="p">&#9120</div></div>'}return["(",r,")"].join("");case"left_bracket":for(var t=0;t<e.children.length;t++)r+=a(e.children[t]);if(e.parenSize>0){i='<div class="ou"><div class="p">&#9121;</div>';for(var s=0;s<e.parenSize-1;s++)i+='<div class="p">&#9122;</div>';i+='<div class="p">&#9123</div></div>',i+=" "+r+" ",i+='<div class="ou"><div class="p">&#9124;</div>';for(var s=0;s<e.parenSize-1;s++)i+='<div class="p">&#9125;</div>';return i+='<div class="p">&#9126</div></div>'}return["[",r,"]"].join("");case"left_brace":for(var t=0;t<e.children.length;t++)r+=a(e.children[t]);if("\\{"!=e.value)return r;if(0==e.parenSize)return["{",r,"}"].join("");if(1==e.parenSize)return['<div class="ou"><div class="p">&#9136;</div><div class="p">&#9137;</div></div>',r,'<div class="ou"><div class="p">&#9137;</div><div class="p">&#9136;</div></div>'].join("");var p=(e.parenSize/2|0)-1;i='<div class="ou"><div class="p">&#9127;</div>';for(var s=0;p>s;s++)i+='<div class="p">&#9130;</div>';i+='<div class="p">&#9128;</div>';for(var s=0;p>s;s++)i+='<div class="p">&#9130;</div>';i+='<div class="p">&#9129;</div></div>',i+=" "+r+" ",i+='<div class="ou"><div class="p">&#9131;</div>';for(var s=0;p>s;s++)i+='<div class="p">&#9130;</div>';i+='<div class="p">&#9132;</div>';for(var s=0;p>s;s++)i+='<div class="p">&#9130;</div>';return i+='<div class="p">&#9133;</div></div>';case"unary":if(r=a(e.children[0]),"^"==e.value)return["<sup>",r,"</sup>"].join("");if("_"==e.value)return["<sub>",r,"</sub>"].join("");case"binary":if(r=a(e.children[0]),i=a(e.children[1]),"frac"==e.value)return['<div class="ou"><div>',r,"</div><hr><div>",i,"</div></div>"].join("");if("sum"==e.value||"prod"==e.value)return['<div class="ou"><div class="small">',i,'</div><div class="m bigger">',"&",e.value,";",'</div><div class="small">',r,"</div></div>"].join("")}}if(!e)return"";var i="",n=this.map.mapping;r(e);for(var t=0;t<e.children.length;t++)i+=a(e.children[t]);return i},t.prototype.convert=function(e){return this.translate(this.parse(this.lex(e)))},{all:function(){return new t},only:function(){return new t(arguments)},not:function(){var e=[];for(var r in s){for(var a=!0,i=0;i<arguments.length;i++)if(arguments[i]==r){a=!1;break}a&&e.push(r)}return new t(e)},plugin:function(e,r){return s[e]=r,a},parse:function(e){return(new t).convert(e)}}}();a.plugin("greek",{direct:["Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigma","tau","upsilon","phi","chi","psi","omega"]}),a.plugin("functions",{special:["sin","cos","tan","cot","sec","cosec","arcsin","arccos","arctan","arccot","sinh","cosh","tanh","coth","arsinh","arcosh","artanh","arcoth","mod","abs","rnd","rand","min","max","gcd","lcm","exp","sqrt","ln","lg","log"]}),a.plugin("comparisons",{map:{"<=":" &le; ",">=":" &ge; ","!=":" &ne; ","<":" &lt; ",">":" &gt; "}}),a.plugin("logic",{direct:["not","exist"],map:{"&&":" &and; ",and:" &and; ","||":" &or; ",or:" &or; ",to:" &rarr; ",from:" &larr; ",iff:" &harr; ",all:"&#8704;","|-":" &#8870; ","|=":" &#8873; "}}),a.plugin("set",{direct:["empty"],map:{union:" &#x22c3; ",cup:" &#x22c3; ",intersect:" &#x22c2; ",cap:" &#x22c2; ","in":" &#8712; ",notin:" &#8713; "}}),a.plugin("blackboard",{map:{bbR:'<span class="big">&#8477;</span>',bbC:'<span class="big">&#8450;</span>',bbN:'<span class="big">&#8469;</span>',bbP:'<span class="big">&#8473;</span>',bbQ:'<span class="big">&#8474;</span>',bbZ:'<span class="big">&#8484;</span>'}}),a.plugin("misc",{direct:["infin"],map:{"+-":" &plusmn; ","'":" &prime;",",":", "}}),"undefined"!=typeof window&&(window.Mathed=a),r.exports=a},{}]},{},[1]);